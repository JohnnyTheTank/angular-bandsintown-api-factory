/**
    @name: angular-bandsintown-api-factory 
    @version: 0.5.1 (06-01-2016) 
    @author: Jonathan Hornung 
    @url: https://github.com/JohnnyTheTank/angular-bandsintown-api-factory#readme 
    @license: MIT
*/
"use strict";angular.module("jtt_bandsintown",[]).factory("bandsintownFactory",["$http","bandsintownSearchDataService",function(a,b){var c={};return c.getArtist=function(c){var d=b.getNew("artist",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c.getEventsFromArtist=function(c){var d=b.getNew("eventsFromArtist",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c.getEventsFromArtistByLocation=function(c){var d=b.getNew("eventsFromArtistByLocation",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c.getRecommendedEventsFromArtistByLocation=function(c){var d=b.getNew("recommendedEventsFromArtistByLocation",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c}]).service("bandsintownSearchDataService",function(){this.getApiBaseUrl=function(a){return"http://api.bandsintown.com/"},this.fillDataInObjectByList=function(a,b,c){return angular.forEach(c,function(c,d){"undefined"!=typeof b[c]&&(a.object[c]=b[c])}),a},this.getNew=function(a,b){var c={object:{format:"json",api_version:"2.0",app_id:b.app_id||"angular-bandsintown-api-factory",callback:"JSON_CALLBACK"},url:""};switch("undefined"!=typeof b.limit&&(c.object.limit=b.limit),a){case"artist":c=this.fillDataInObjectByList(c,b,["artist_id"]),c.url=this.getApiBaseUrl()+"artists/"+b.artist+".json";break;case"eventsFromArtist":c=this.fillDataInObjectByList(c,b,["date","artist_id"]),c.url=this.getApiBaseUrl()+"artists/"+b.artist+"/events.json";break;case"eventsFromArtistByLocation":c=this.fillDataInObjectByList(c,b,["date","artist_id","location","radius"]),c.url=this.getApiBaseUrl()+"artists/"+b.artist+"/events/search.json";break;case"recommendedEventsFromArtistByLocation":c=this.fillDataInObjectByList(c,b,["date","artist_id","location","radius","only_recs"]),c.url=this.getApiBaseUrl()+"artists/"+b.artist+"/events/recommended"}return c}});